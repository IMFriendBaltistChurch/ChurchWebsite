<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Our Ministries-IMUSA</title>
  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      line-height: 1.6;
      color: #111;
      background: #fff;
      overflow-x: hidden;
    }

    .content {
      margin-top: 140px;
      text-align: center;
      padding: 20px;
    }

    .container {
      max-width: 980px;
      margin: 0 auto;
      padding: 48px 20px 28px;
    }

    .center { text-align: center; }
    h1 { margin: 0 0 8px; font-size: 32px; }
    .subtitle { color: #666; margin: 6px 0 36px; }

    /* ================= Header 1 ================= */
    .header1 {
      position: fixed;
      top: 0;
      width: 100%;
      background-color: #F5F5F7;
      z-index: 100;
      padding: 10px 0;
      backdrop-filter: blur(10px);
      background-color: rgba(245, 245, 247, 0.9);
    }

    .header-container {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 50px;
    }

    .logo-link img {
      height: 35px;
      width: auto;
      /* 모든 transition과 transform 효과 제거 */
    }

    .main-menu {
      display: flex;
      gap: 40px;
    }

    .menu-item {
      position: relative;
    }

    .menu-item > a {
      text-decoration: none;
      color: #1d1d1f;
      font-size: 14px;
      font-weight: 500;
      padding: 10px 0;
      display: block;
      cursor: pointer;
    }

    /* 드롭다운 */
    .menu-item .dropdown {
      display: none;
      position: absolute;
      top: 100%;
      left: 50%;
      transform: translateX(-50%);
      background-color: #fff;
      border: 1px solid #d6d6d6;
      border-radius: 6px;
      min-width: 200px;
      max-height: 400px;
      padding: 8px 0;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      z-index: 50;
      overflow: visible;
      transition: all 0.3s ease;
    }

    .menu-item:hover .dropdown {
      display: block;
      animation: dropdownFade 0.3s ease forwards;
    }

    .dropdown a {
      display: block;
      padding: 8px 20px;
      color: #1d1d1f;
      text-decoration: none;
      font-size: 13px;
      transition: all 0.2s ease;
    }

    .dropdown a:hover {
      background-color: #e8e8ed;
      color: #0066cc;
      transform: scale(1.05);
    }

    @keyframes dropdownFade {
      from { opacity: 0; transform: translateY(-10px) translateX(-50%);}
      to { opacity: 1; transform: translateY(0) translateX(-50%);}
    }

    /* ================= Header 2 ================= */
    .header2 {
      position: fixed;
      top: 60px;
      width: 100%;
      background-color: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(10px);
      z-index: 90;
      text-align: center;
      padding: 15px 0;
      border-bottom: 1px solid #000;
    }

    .header2-container {
      display: inline-flex;
      gap: 60px;
    }

    .header2 a {
      text-decoration: none;
      color: #1d1d1f;
      font-weight: 400;
      font-size: 18px;
      transition: all 0.3s ease;
      display: inline-block;
      position: relative;
      cursor: pointer;
    }

    .header2 a.active {
      color: #000000;
      font-weight: 600;
    }

    .header2 a:hover { color: #0066cc; }

    /* ================= 본문 - 애플 스타일 ================= */
    :root{
      --thumb-w: 140px;  
      --thumb-h: 140px;  
      --thumb-gap: 12px; 
      --logo-w: 180px;   
      --logo-h: 100px;
      --navy-primary: #1e3a8a;
      --navy-secondary: #1e40af;
      --navy-light: #2e086f;
      --navy-dark: #1e293b;
    }

    .ministry {
      padding: 100px 0;
      background: transparent;
      margin: 0;
      position: relative;
      overflow: visible;
    }

    .ministry-content {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      max-width: 800px;
      margin: 0 auto;
      padding: 0 20px;
      background: transparent;
    }

    .ministry-header {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 50px;
      margin-bottom: 60px;
      width: 100%;
    }

    .logo {
      width: var(--logo-w);
      height: var(--logo-h);
      object-fit: contain;
      background: transparent;
      padding: 0;
      border-radius: 20px;
      transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      filter: drop-shadow(0 10px 30px rgba(30, 58, 138, 0.15));
    }

    .logo:hover {
      transform: scale(1.05) translateY(-10px);
      filter: drop-shadow(0 20px 40px rgba(30, 58, 138, 0.25));
    }

    .ministry-title {
      font-size: clamp(48px, 8vw, 80px);
      font-weight: 700;
      color: var(--navy-primary);
      margin: 0;
      letter-spacing: -0.02em;
      line-height: 1.1;
      position: relative;
      transition: all 0.4s ease;
      background: linear-gradient(135deg, var(--navy-primary) 0%, var(--navy-light) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .title-underline {
      position: absolute;
      bottom: -20px;
      left: 50%;
      transform: translateX(-50%);
      width: 80px;
      height: 4px;
      background: linear-gradient(90deg, var(--navy-primary), var(--navy-light));
      border-radius: 2px;
      transition: all 0.4s ease;
    }

    .ministry:hover .title-underline {
      width: 120px;
    }

    .ministry-description {
      margin-top: 40px;
      max-width: 600px;
    }

    .ministry-description p {
      font-size: clamp(18px, 2.5vw, 24px);
      font-weight: 400;
      line-height: 1.6;
      color: var(--navy-dark);
      margin: 0;
      opacity: 0.8;
      transition: all 0.4s ease;
    }

    .ministry:hover .ministry-description p {
      opacity: 1;
      transform: translateY(-5px);
    }

    /* 배경 장식 요소 */
    .ministry::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 120%;
      height: 120%;
      background: radial-gradient(ellipse at center, 
        rgba(30, 58, 138, 0.03) 0%, 
        rgba(30, 58, 138, 0.01) 40%, 
        transparent 70%);
      z-index: -1;
      transition: all 0.6s ease;
    }

    .ministry:hover::before {
      transform: translate(-50%, -50%) scale(1.1);
      background: radial-gradient(ellipse at center, 
        rgba(30, 58, 138, 0.05) 0%, 
        rgba(30, 58, 138, 0.02) 40%, 
        transparent 70%);
    }

    /* ================= 갤러리 ================= */
    .gallery { padding: 56px 20px 80px; }
    .gallery-block { margin-bottom: 48px; }

    .gallery-row {
      display: flex;
      justify-content: center;
      margin-top: 14px;
    }

    .images {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: var(--thumb-gap);
      width: auto;
      overflow: visible;
    }

    .images img{
      flex: 0 0 var(--thumb-w);
      width: var(--thumb-w);
      height: var(--thumb-h);
      object-fit: cover;
      border-radius: 10px;
      background: #f5f5f5;
      box-shadow: 0 0 0 1px #eee inset;
    }

    /* ================= Footer ================= */
    .site-footer {
      background-color: #ffffff;
      color: #222222;
      text-align: center;
      padding: 40px 20px;
      margin-top: 60px;
    }

    .site-footer p {
      margin: 10px 0;
      font-size: 14px;
    }

    .site-footer a {
      color: #237fdb;
      text-decoration: none;
      transition: color 0.3s ease;
    }

    .site-footer a:hover {
      color: #4dc8ff;
    }

    @media (max-width: 1024px){
      :root {
        --thumb-w: 120px;
        --thumb-h: 120px;
        --logo-w: 160px;
        --logo-h: 88px;
      }
      h1 { font-size: 28px; }
      .ministry { padding: 80px 0; }
      .ministry-header { gap: 40px; margin-bottom: 50px; }
    }

    @media (max-width: 800px){
      :root {
        --thumb-w: 100px;
        --thumb-h: 100px;
        --logo-w: 140px;
        --logo-h: 78px;
      }
      .container { padding: 30px 14px; }
      .ministry { padding: 60px 0; }
      .ministry-header { gap: 30px; margin-bottom: 40px; }
      .title-underline { width: 60px; height: 3px; bottom: -15px; }
      .ministry:hover .title-underline { width: 80px; }
      .ministry-description { margin-top: 30px; }
    }
  </style>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>

</head>
<body>
  <!-- ================= Header 1 ================= -->
<header class="header1">
        <div class="header-container">
            <a href="../../0메인 페이지/index.html" class="logo-link">
                <img src="IMUSA_logo.png" alt="Church Logo" class="logo">
            </a>
            <nav class="main-menu">
                <div class="menu-item" id="aboutMenu">
                    <a href="#">About us</a>
                    <div class="dropdown">
                        <a href="../../about-us/vision.html">Vision of Our Church</a>
                        <a href="../../about-us/our_beliefs/1.html">Our Beliefs</a>
                        <a href="../../about-us/team.html">Our Team</a>
                        <a href="../../about-us/location/1.html">Location</a>
                    </div>
                </div>
                    <div class="menu-item" id="worshipMenu">
                        <a href="../../worship/sunday-worship.html">Worship</a>
                        <div class="dropdown">
                        <a href="../../worship/sunday-worship.html">Sunday Worship</a>
                        <a href="../../worship/into-worship.html">INTO Worship</a>
                        </div>
                    </div>
                    <div class="menu-item" id="scheduleMenu">
                        <a href="../../schedule/calendar-view.html">Schedule</a>
                        <div class="dropdown">
                        <a href="../../schedule/list-view.html">List View</a>
                        <a href="../../schedule/calendar-view.html">Calendar View</a>
                        </div>
                    </div>
                    <div class="menu-item" id="ministryMenu">
                        <a href="../imusa/imusa.html">Ministry</a>
                        <div class="dropdown">
                        <a href="../kfd/kfd.html">KFD</a>
                        <a href="../first-friday/first-friday.html">First Friday</a>
                        <a href="../campus/campus.html">Campus</a>
                        <a href="outreach.html">Outreach</a>
                        <a href="../imusa/imusa.html">IMUSA</a>
                        </div>
                    </div>
                    <div class="menu-item" id="churchMenu">
                        <a href="../../church/church.html">Church</a>
                    </div>
                    <div class="menu-item" id="connectMenu">
                        <a href="../../connect/connect.html">Connect</a>
                    </div>
                </div>
            </nav>
        </div>
    </header>

<!-- ================= Header 2 ================= -->
<nav class="header2">
        <div class="header2-container">
            <a href="../kfd/kfd.html">KFD</a>
            <a href="../first-friday/first-friday.html">First-Friday</a>
            <a href="../campus/campus.html">Campus</a>
            <a href="../outreach/outreach.html">Outreach</a>
            <a href="imusa.html" class="active">IMUSA</a>
        </div>
    </nav>

  <!-- ================= Main Content ================= -->
  <main class="content">
    <section class="container">
      <h1 class="center">OUR MINISTRIES</h1>
      <p class="subtitle center">Serving our campus, our city, and the nations of God's glory</p>

      <!-- IMUSA Ministry -->
      <div class="ministry">
        <div class="ministry-content">
          <div class="ministry-header">
            <h2 class="ministry-title">
              IMUSA
              <div class="title-underline"></div>
            </h2>
          </div>
          <div class="ministry-description">
            <p>IMUSA aims to foster balanced growth in faith, life, learning, and missions for both Koreans and Americans, supporting local church ministries in the U.S. and expanding missionary work across North, Central, and South America.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- gallery -->
    <section class="gallery">
      <h2 class="center">Gallery</h2>

      <div class="gallery-block">
        <h3 class="center">KFD</h3>
        <div class="gallery-row">
          <div class="images gallery-animate">
            <img src="../imusa/gal k 1.jpg" alt="KFD 1">
            <img src="../imusa/gal k 2.jpg" alt="KFD 2">
            <img src="../imusa/gal k 3.jpg" alt="KFD 3">
            <img src="../imusa/gal k 4.jpg" alt="KFD 4">
            <img src="../imusa/gal k 5.jpg" alt="KFD 5">
            <img src="../imusa/gal k 6.jpg" alt="KFD 6">
            <img src="../imusa/gal k 7.jpg" alt="KFD 7">
          </div>
        </div>
      </div>

      <div class="gallery-block">
        <h3 class="center">INTO-Club</h3>
        <div class="gallery-row">
          <div class="images gallery-animate">
            <img src="../imusa/gal into 1.png" alt="INTO 1">
            <img src="../imusa/gal into 2.jpg" alt="INTO 2">
            <img src="../imusa/gal into 3.png" alt="INTO 3">
            <img src="../imusa/gal into 4.png" alt="INTO 4">
            <img src="../imusa/gal into 5.png" alt="INTO 5">
            <img src="../imusa/gal into 6.png" alt="INTO 6">
            <img src="../imusa/gal into 7.png" alt="INTO 7">
          </div>
        </div>
      </div>
    </section>

    <!-- GSAP 스크립트 -->
    <script>
      gsap.registerPlugin(ScrollTrigger);

      // DOM이 로드된 후 실행
      document.addEventListener('DOMContentLoaded', () => {
        // ================= Header1 드롭다운 애니메이션 =================
        const menuItems = document.querySelectorAll('.menu-item');
        menuItems.forEach(item => {
          item.addEventListener('mouseenter', () => {
            const dropdown = item.querySelector('.dropdown');
            if (dropdown) {
              dropdown.style.display = 'block';
            }
          });
          item.addEventListener('mouseleave', () => {
            const dropdown = item.querySelector('.dropdown');
            if (dropdown) {
              dropdown.style.display = 'none';
            }
          });
        });

        // ================= Dynamic Header Background =================
        window.addEventListener('scroll', () => {
          const header1 = document.querySelector('.header1');
          const header2 = document.querySelector('.header2');
          
          if (window.scrollY > 100) {
            header1.style.background = 'rgba(245, 245, 247, 0.95)';
            header2.style.background = 'rgba(255, 255, 255, 0.95)';
          } else {
            header1.style.background = 'rgba(245, 245, 247, 0.9)';
            header2.style.background = 'rgba(255, 255, 255, 0.9)';
          }
        });

        // ================= Header2 현재 페이지 활성화 =================
        const header2Links = document.querySelectorAll('.header2 a');
        let currentPath = window.location.pathname;

        // 현재 경로에서 파일명만 추출
        currentPath = currentPath.substring(currentPath.lastIndexOf('/') + 1);

        header2Links.forEach(link => {
          link.classList.remove('active');

          // 링크의 href에서도 파일명만 추출
          let linkPath = link.getAttribute('href');
          if (linkPath && linkPath !== '#') {
            linkPath = linkPath.substring(linkPath.lastIndexOf('/') + 1);

            if (linkPath === currentPath) {
              link.classList.add('active');
            }
          }
        });

        // IMUSA 페이지이므로 IMUSA 링크를 활성화
        header2Links.forEach(link => {
          if (link.textContent.trim() === 'IMUSA') {
            link.classList.add('active');
          }
        });
      });

      // 기존 갤러리 애니메이션
      document.querySelectorAll(".gallery-animate img").forEach((img) => {
        gsap.fromTo(img,
          { opacity: 0, y: 100, rotateY: 90, scale: 0.85 },
          {
            opacity: 1,
            y: 0,
            rotateY: 0,
            scale: 1,
            duration: 1,
            ease: "power3.out",
            scrollTrigger: {
              trigger: img,
              start: "top 85%",
              toggleActions: "play none none reverse"
            }
          }
        );
      });

      // IMUSA 섹션 애니메이션 (애플 스타일)
      const tl = gsap.timeline({
        scrollTrigger: {
          trigger: ".ministry",
          start: "top 60%",
          toggleActions: "play none none reverse"
        }
      });

      // 제목 애니메이션
      tl.fromTo(".ministry-title", 
        { 
          opacity: 0, 
          y: 40,
          scale: 0.95
        },
        {
          opacity: 1,
          y: 0,
          scale: 1,
          duration: 1,
          ease: "power2.out"
        }, "-=0.6"
      );

      // 언더라인 애니메이션
      tl.fromTo(".title-underline", 
        { 
          width: 0
        },
        {
          width: "80px",
          duration: 0.6,
          ease: "power2.out"
        }, "-=0.5");

      // 설명 텍스트 애니메이션
      tl.fromTo(".ministry-description p", 
        { 
          opacity: 0, 
          y: 30
        },
        {
          opacity: 0.8,
          y: 0,
          duration: 0.8,
          ease: "power2.out"
        }, "-=0.4");
    </script>
  </main>
</body>
</html>